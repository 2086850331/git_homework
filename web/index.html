<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h2>学生信息</h2>
        <form id="f1" class="form-horizontal">
            <div class="form-group">

                <label for="cname" class="col-sm-2 control-label">姓  名：</label>
                <div class="col-sm-4">
                    <input type="text" class="form-control col-sm-6" id="cname">
                </div>

                <label for="age" class="col-sm-2 control-label">年  龄：</label>
                <div class="col-sm-4">
                    <input type="text" class="form-control col-sm-6" id="age">
                </div>

                <label for="tel" class="col-sm-2 control-label">电  话：</label>
                <div class="col-sm-4">
                    <input type="text" class="form-control col-sm-6" id="tel">
                </div>
                <input id="add" type="button" class="btn btn-info" value="注册" style="float: right"/>
            </div>
        </form>
        <table id="tab" class="table table-hover table-bordered">
            <tr>
                <th>编号</th>
                <th>姓名</th>
                <th>年龄</th>
                <th>电话</th>
            </tr>
        </table>
    </div>
<script src="js/jquery-1.12.4.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script>
    $(function () {
        $.ajax({
            url:'list_city',
            type:'get',
            success: function (result) {
                $.each(result, function (index,user) {
                    $('#tab').append(
                        "<tr>" +
                            "<td>"+user.id+"</td>"+
                            "<td>"+user.name+"</td>"+
                            "<td>"+user.age+"</td>"+
                            "<td>"+user.tel+"</td>"+
                        "</tr>"
                    )
                })
            }
        })

        $('#add').on('click', function () {
            var param = $('#f1').serialize();
            alert(param);
            $.ajax({
                url:'add_user',
                type:'get',
                date:param,
                success: function (result) {
                    var a = null;
                    $(data).each(function (i,u) {
                        a += "<tr>" +
                            "<td>" + u.id + "</td>" +
                            "<td>" + u.name + "</td>" +
                            "<td>" + u.age + "</td>" +
                            "<td>" + u.tel + "</td>" +
                            "</tr>"
                    })
                    $('#tab').append(a);
                }
            })
        })
    })
</script>
</body>
</html>